<!doctype html>


<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>impress.js | presentation tool based on the power of CSS3 transforms and transitions in modern browsers | by Bartek Szopka @bartaz</title>

        <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com." />
        <meta name="author" content="Bartek Szopka" />

        <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />


        <link href="css/impress-demo.css" rel="stylesheet" />

        <link rel="shortcut icon" href="favicon.png" />
        <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    </head>


    <body class="impress-not-supported">


        <div class="fallback-message">
            <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
            <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
        </div>


        <div id="impress">


            <div id="animated_1" class="step slide" data-x="0" data-y="-1500">
                <canvas id="canvas1" width="800" height="600"></canvas>
            </div>

            <div id="animated_2" class="step slide" data-x="0" data-y="-1500">
                <canvas id="canvas2" width="800" height="600"></canvas>
            </div>

            <div class="step slide" data-x="4000" data-y="-1500">
                <q>Some other stuff</q>
            </div>    




            <div id="overview" class="step" data-x="2000" data-y="-1500" data-scale="3">
            </div>

        </div>


        <script>
            if ("ontouchstart" in document.documentElement) {
                document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
            }
        </script>


        <script src="external/impress.js"></script>
        <script src="external/jquery.min.js"></script>
        <script type="text/javascript" src="stream.js"></script>
        <script type="text/javascript" src="list.js"></script>
        <script type="text/javascript" src="timer.js"></script>
        <script type="text/javascript" src="animator.js"></script>
        <script type="text/javascript" src="animator2.js"></script>
        <script>impress().init();

            $(window).load(function() {



                var positiveNumbers = new Stream().generate(0, function(seed) {
                    return seed + 1;
                });


                var primes = new Stream()
                        .generateFromStream(positiveNumbers.tail().tail(), function(stream) {
                    return stream.tail().filter(function(x) {
                        return x % stream.head() !== 0;
                    });
                });

                var letterStreamCreator = function(letters) {
                    return new Stream()
                            .generate(0, function(seed) {
                        return seed + 1 === letters.length ? 0 : seed + 1;
                    })
                            .map(function(i) {
                        return letters[i];
                    });
                };



                var randomStream = function(low, high) {
                    return new Stream().generate(0, function(seed) {
                        return Math.floor((Math.random() * high) + low);
                    });
                };


                var getActiveSlide = function() {
                    return $(".active")
                            .attr('id');
                };


                var randomNumber = function(low, high){
                    var result = Math.floor((Math.random() * (high-low)) + low);
                    return result;
                };


                var canvas1 = document.getElementById("canvas1");

                 var rocket = new Animator2.textStream("R","EQ", "UIREJS").
                         map(function(animation, index){
                            return animation
                                    .font("Arial")
                                    .fontSize(20)
                                    .x(400-Math.pow(index,2)*7)
                                    .y(500+index*15)
                                    .static({startTime: 0, duration: 1000})
                                    .scrollY({startTime: 1000, duration: 4500, change: -300, effectName: "sin", period: 14000})
                                    .rotate({startTime: 5000, duration:1000, change: 90*Math.PI/180})
                                    .scrollX({startTime: 5000, duration:1000, change: index==0?10:0})
                                    .scrollY({startTime: 5000, duration:1000, change: -20*Math.pow(index,1.5)})
                                    .scrollY({startTime: 6000, duration: 49000, change: -50, effectName: "sin", period: 7000})
                         });
                         
                 var background = new Animator2
                         .textStream()
                         .generate("REQUIRE JS.REQUIRE JS.                                                                         REQUIRE JS.REQUIRE JS.", function(seed){
                            return seed;
                         })
                         .take(1000)
                         .map(function(animation,index){
                            return animation
                                    .font("Arial")
                                    .fontSize(20)
                                    .x(1000)
                                    .y(randomNumber(-200,-100))
                                    .scrollX({startTime: 6000+(index*50), duration:2000, change:-1000})
                                    .rotate({startTime: 6000, duration:1, change: 90*Math.PI/180})
                         }); 


                var canvas2 = document.getElementById("canvas2");
                var demoZeitArray = ["R", "E", "Q", "U", "I", "R", "E", " ", "J", "S "];
                var slide2 = new Animator2.textStream()
                        .generate(0, function(seed) {
                    return seed + 1;
                })
                        .take(100)
                        .map(function(animation, index) {
                    return animation.subject(demoZeitArray[index % demoZeitArray.length]);
                })
                        .map(function(animation, index) {
                    return animation
                            .font("Arial")
                            .fontSize(25)
                            .x(300)
                            .y(50)
                            //tube
                            .scrollX({startTime: index * 500, duration: 49000, change: 200, effectName: "sin", period: 7000})
                            .scale({startTime: index * 500, duration: 49000, change: -0.5, effectName: "cos", period: 7000})
                            .scrollY({startTime: index * 500, duration: 49000, change: -25, effectName: "cos", period: 7000})
                            .scrollY({startTime: index * 500 + 7000, duration: 2000, change: 80, effectName: "fall", speed: 30, cor: 0})
                            .scrollY({startTime: index * 500 + 14000, duration: 2000, change: 80, effectName: "fall", speed: 30, cor: 0})
                            .scrollY({startTime: index * 500 + 21000, duration: 2000, change: 80, effectName: "fall", speed: 30, cor: 0})
                            .scrollY({startTime: index * 500 + 28000, duration: 2000, change: 80, effectName: "fall", speed: 30, cor: 0})
                            .scrollY({startTime: index * 500 + 35000, duration: 2000, change: 80, effectName: "fall", speed: 30, cor: 0})
                            .scrollY({startTime: index * 500 + 42000, duration: 2000, change: 80, effectName: "fall", speed: 30, cor: 0})
                            .fade({startTime: index * 500 + 48500, duration: 500, change: -1})


                })
                        .map(function(animation, index) {
                    return animation
                            //spiral
                            .fade({startTime: index * 250 + 2 * 49000, duration: 500, change: 1})
                            .scale({startTime: index * 250 + 2 * 49000, duration: 1, change: 0.5})
                            .map({startTime: index * 250 + 2 * 49000, duration: 24500, period: 3500, change: 100},
                    function(properties, settings, timeFromStart) {
                        var scale = settings.period / (2 * Math.PI);
                        var time = (timeFromStart - settings.startTime);
                        var angle = 10 + time / scale;
                        var change = (1 + 5 * angle) * Math.cos(angle);
                        properties.x = properties.x + change;
                        return properties;
                    })

                            .scale({startTime: index * 250 + 2 * 49000, duration: 24500, change: -0.5, effectName: "sin", period: 3500})
                            .map({startTime: index * 250 + 2 * 49000, duration: 24500, period: 3500, change: 100},
                    function(properties, settings, timeFromStart) {
                        var scale = settings.period / (2 * Math.PI);
                        var time = (timeFromStart - settings.startTime);
                        var angle = 10 + time / scale;
                        var change = (1 + 1 * angle) * Math.sin(angle);
                        properties.y = properties.y + change;
                        return properties;
                    })
                            .scrollY({startTime: index * 250 + 2 * 49000, duration: 24500, change: -450, effectName: "linear"})
                });


                var slide = 1;

                var slide2Animator = new Animator2.animator(canvas2.getContext("2d"), canvas2, true);
                var rocketAnimator = new Animator2.animator(canvas1.getContext("2d"), canvas1, true);
                var animate = function() {
                    var timeFromStartSlide2 = slide2Animator.stop();
                    rocketAnimator.stop();

                    if (getActiveSlide() === "animated_1") {
                       rocketAnimator.start([rocket, background]);
                    } else if (getActiveSlide() === "animated_2") {
                        slide2Animator.start([slide2], new Date().getTime() - timeFromStartSlide2);
                    }
                };

                document.getElementById("impress").addEventListener("impress:stepenter", function(event, more) {
                    animate();
                });

                animate();

                $(window).keypress(function(e) {
                    
                });



            });





        </script>





    </body>
</html>


