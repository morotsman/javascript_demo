<!doctype html>


<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>impress.js | presentation tool based on the power of CSS3 transforms and transitions in modern browsers | by Bartek Szopka @bartaz</title>
    
    <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com." />
    <meta name="author" content="Bartek Szopka" />

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />


    <link href="css/impress-demo.css" rel="stylesheet" />
    
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>


<body class="impress-not-supported">


<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>


<div id="impress">


    <div id="bored" class="step slide" data-x="-1000" data-y="-1500">
        <canvas id="myCanvas" width="800" height="600"></canvas>
    </div>

    <div class="step slide" data-x="0" data-y="-1500">
        <q>Don't you think that presentations given <strong>in modern browsers</strong> shouldn't <strong>copy the limits</strong> of 'classic' slide decks?</q>
    </div>

    


    <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="10">
    </div>

</div>

   
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>


<script src="external/impress.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="stream.js"></script>
<script type="text/javascript" src="timer.js"></script>
<script>impress().init();

  $(window).load(function(){
      
      var slide = 1;
      var start = new Date().getTime();
      $(window).keypress(function(e) {
         if(e.which === 110){
             slide++;
             start = new Date().getTime();
         }
         if(e.which === 112){
             slide--;
             start = new Date().getTime();
         }
      });
      
      var canvas = document.getElementById("myCanvas");
      var ctx = canvas.getContext("2d");
      


      var positiveNumbers = new Stream().generate(1, function(seed){ return seed + 1;});
      
      var primes = new Stream()
              .generateFromStream(positiveNumbers.tail(), function(stream){ return stream.tail().filter(function(x){ return x % stream.head() !== 0;});});

      var letters = ["D","E","M","O"," ","Z","E","I","T"];
      var letterStream = new Stream()
              .generate(0, function(seed){ return seed+1===letters.length?0:seed+1;})
              .map(function(i){
                  return letters[i];
              }); 
              
      
      
      var randomStream = function(low, high){
        return new Stream().generate(0, function(seed){ return Math.floor((Math.random() * high) + low);});
      };
      
      var randomPositions = 
              randomStream(0,700)
              .zip(randomStream(30,500))
              .map(function(v){ return {x: v.one, y: v.two};});
      
      var timeAndRandomPositions = 
              randomPositions
              .tail()
              .zip(positiveNumbers)
              .map(function(v){ return {time: v.two*1000, x: v.one.x, y: v.one.y};});
      
     
      var primesWithPositionAndTime = 
              timeAndRandomPositions
              .zip(primes)
              .map(function(v){ return {time: v.one.time, word: v.two, x: v.one.x, y: v.one.y};})
              .take(1000);
     
      var words = ["Function", "Agile", "Scrum", "Scala", "Java", "JavaScript", "(a,b)=>a+b", "val x=Stream(1,2,3)","map","forEach","foldLeft","foldRight"];
      
      var randomWordStream = 
              randomStream(0, words.length)
              .map(function(v){ return words[v];});
     
      var wordsWithPositionAndTime =
             timeAndRandomPositions
             .zip(randomWordStream)
             .map(function(v){ return {time: v.one.time, word: v.two, x: v.one.x, y: v.one.y};}); 
 
      var lettersWithPositionAndTime =
             timeAndRandomPositions
             .zip(letterStream)
             .map(function(v){ return {time: v.one.time, word: v.two, x: v.one.x, y: v.one.y};});
              
      timers.add(function(){
           ctx.clearRect(0, 0, canvas.width, canvas.height);
           
           var now = new Date().getTime();  
           var timeFromStart = now-start;
           
           var fadeOut = function(v,duration){
               var durationInSec = duration/1000;
               var scale = ((timeFromStart-v.time)%(duration));
               var alpha = durationInSec-(scale/1000);
               ctx.font = 10*(duration/1000) + 10*(scale/1000) + "px Arial";
               ctx.fillStyle = "rgba(255, 0, 0, " + alpha/durationInSec + ")";
               ctx.fillText(v.word, v.x, v.y);                  
           };
               
           var fadeIn = function(v, duration){
               var alpha = ((timeFromStart-v.time)%(duration));
               ctx.font = 10*(alpha/1000) + "px Arial";
               ctx.fillStyle = "rgba(255, 0, 0, " + alpha/duration + ")";
               ctx.fillText(v.word, v.x, v.y);                  
           };          
           
           var timeFramedElementStream = function(stream, startTime, duration){//each element on stream is shown for duration
               return stream
                   .takeWhile(function(v){
                       return v.time < timeFromStart-startTime;
                   })
                   .filter(function(v){
                       return v.time > timeFromStart - duration;
                   });    
           };
           
           var timeLimitedStream = function(stream, duration){
               return stream.filter(function(v){
                       return v.time < duration;
                   }) 
           };
           
           if(slide===1){
               timeFramedElementStream(primesWithPositionAndTime, 0, 5000).forEach(function(v){fadeIn(v,5000);}); 
                   
               timeFramedElementStream(primesWithPositionAndTime, 5000, 10000).forEach(function(v){fadeOut(v,5000);}); 
               
               if(timeFromStart > 60000*3){//loop every third minute
                  start = new Date().getTime(); 
               }
           }
           if(slide===2){
               timeLimitedStream(timeFramedElementStream(wordsWithPositionAndTime, 0, 5000), 20000)                  
                   .forEach(function(v){
                       fadeIn(v,5000);  
                   });
               
           
               timeLimitedStream(timeFramedElementStream(lettersWithPositionAndTime,10000,15000),28000)              
                   .forEach(function(v){
                       var alpha = ((timeFromStart-v.time)%5000)/1000;
                       ctx.font = 40*alpha + "px Arial";
                       ctx.fillStyle = "rgba(0, 0, 0, " + alpha/20 + ")";
                       ctx.fillText(v.word, v.x, v.y);  
                   });
                                   
           
                if(timeFromStart > 23000  && timeFromStart < 29000){
                    var scale = ((timeFromStart-23000)%6000)/1000;
                    ctx.font = 15*scale + "px Arial";
                    ctx.fillStyle = "rgba(255, 0, 0, " + scale/5 + ")";
                    ctx.fillText("DEMO ZEIT", 100, 200);                
                }
           
                if(timeFromStart > 29000){
                    var scale = 6;
                    ctx.font = 15*scale + "px Arial";
                    ctx.fillStyle = "rgba(255, 0, 0, " + scale/5 + ")";
                    ctx.fillText("DEMO ZEIT", 100, 200);          
                }
           
           
                if(timeFromStart > 25000  && timeFromStart < 29000){
                    var scale = ((timeFromStart-26000)%5000)/1000;
                    ctx.font = 10*scale + "px Arial";
                    ctx.fillStyle = "rgba(255, 0, 0, " + scale/5 + ")";
                    ctx.fillText("MIT NIKLAS", 100, 300);                
                }           
                if(timeFromStart > 29000){
                    var scale = 3;
                    ctx.font = 10*scale + "px Arial";
                    ctx.fillStyle = "rgba(255, 0, 0, " + scale/5 + ")";
                    ctx.fillText("MIT NIKLAS", 100, 300);          
                }  
           
       }
                   

      });
      

      
      timers.start();
      
  });


</script>



</body>
</html>


