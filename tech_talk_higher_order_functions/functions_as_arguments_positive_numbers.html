<!doctype html>


<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />

    </head>


    <body>
        <div id="logger"> 
        </div>





        <script src="external/jquery.min.js"></script>
        
        <script>
            $(window).load(function (){ 
            
                var display = function (text) {
                    $("#logger").append("<p>" + text + "</p>");
                };
                
                
      
                
                
                
                /************* Can we make a refactoring so that the code duplication is removed? ***************/
                
                 
        
                var positiveAdd = function(a, b){
                    if(a < 0){
                        throw a + " is not positive."; 
                    }
                    if(b < 0){
                        throw b + " is not positive.";
                    }
                    var result = a + b;
                    if(result < 0){
                        throw "Result was not positive.";
                    }
                    return result;
                };
                
                var positiveMinus = function(a, b){
                    if(a < 0){
                        throw a + " is not positive."; 
                    }
                    if(b < 0){
                        throw b + " is not positive.";
                    }
                    var result = a - b;
                    if(result < 0){
                        throw "Result was not positive.";
                    }
                    return result;
                };
                
                var positiveTimes = function(a, b){
                    if(a < 0){
                        throw a + " is not positive."; 
                    }
                    if(b < 0){
                        throw b + " is not positive.";
                    }
                    var result = a * b;
                    if(result < 0){
                        throw "Result was not positive.";
                    }
                    return result;
                };                
                
                /*************refactoring***************/
               
                
                var positiveArithmetic = function(operator, a, b){
                    if(a < 0){
                        throw a + " is not positive."; 
                    }
                    if(b < 0){
                        throw b + " is not positive.";
                    }
                    var result = operator(a ,b);
                    if(result < 0){
                        throw "Result was not positive.";
                    }
                    return result;                   
                };
                
                var plus = function(a, b){
                    return a + b;    
                };
                
                var minus = function(a,b){
                    return a - b; 
                };
                
                var times = function(a,b){
                    return a * b; 
                };                  
                
                var positiveAdd_2 = function(a, b){
                    return positiveArithmetic(plus, a, b);    
                };
                
                var positiveMinus_2 = function(a, b){
                    return positiveArithmetic(minus, a, b);    
                };
                
                var positiveTimes_2 = function(a, b){
                    return positiveArithmetic(times, a, b);    
                };
                
                try{
                    display(positiveAdd_2(2,-4)); 
                }catch(err){
                    display(err)
                }
                      
        
            });
            
        </script>





    </body>
</html>


